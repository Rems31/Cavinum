<div class="background">
  <div class="d-flex m-4 justify-content-between">
    <%= link_to root_path do %>
      <i class="material-icons material-symbols-sharp">west</i>
    <% end %>
  </div>

  <div class= "mt-4">
      <%= simple_form_for(@bottle) do |f| %>
        <%= f.input :photo, placeholder: "Ajouter une photo", input_html: {class: "background input"} %>
        <%= f.input :name, placeholder: "Nom", input_html: {class: "background input"} %>
        <%= f.input :appellation, placeholder: "Appellation", input_html: {class: "background input"} %>
        <%= f.input :kind, collection: ["Blanc", "Rouge", "Rosé"], prompt: "Selectionner un type", input_html: {class: "background input"} %>
        <%= f.input :vintage, placeholder: "Millésime", input_html: {class: "background input"} %>
        <%= f.input :area, placeholder: "Région", input_html: {class: "background input"} %>
        <%= f.input :variety, placeholder: "Cépage", input_html: {class: "background input"} %>
        <%= f.input :notes, placeholder: "Notes", input_html: {class: "background input"} %><hr>


      <div data-controller= "wine-cellar-slot">
          <button class="button button-black"
          data-action="click->wine-cellar-slot#open">
          Choisir l'emplacement
          </button>
        <div class="d-none slot-selector" data-wine-cellar-slot-target="radioButtons">
          <div class="cellar-grid">

            <%= link_to new_bottle_path do %>
              <i class="material-icons material-symbols-sharp", style= "position: absolute; right: 0; transform: translateX(-50px); top: 100px;">close</i>
            <% end %>
            <div class="mb-3">
              <%= f.label :slot_id, "Emplacements disponibles", class: "label-slot-id" %>
              <%= f.collection_radio_buttons :slot_id, @all_slots, :id, :name do |s| %>
                <div class="form-check">
                  <%= s.radio_button(class: "form-check-input", disabled: s.object.bottle.present?) %>
                  <%= s.label(class: "form-check-label") %>
                </div>
              <% end %>
            </div>

            <%= f.button :submit, "Valider l'emplacement" %>

          </div>
        </div>
      <%= f.submit "Créer la bouteille", class: "button button-black" if @bottle.slot.present? %>
      <% end  %>
      </div>
  </div>
</div>
